You are given THREE images and ONE text prompt.

The first image:
- This is the original image.

The second image:
- Visual instructions are drawn on this image based on the original image by the user.
- These sketches indicate the desired visual attributes, structure, or configuration
  of specific objects or regions.
- The sketches themselves are NOT intended to appear as final visual elements.

The third image:
- This is the image generated by a model after editing the second image.

TEXT PROMPT:
- {prompt}

Your task is to evaluate whether the Output Image (the third image)
correctly follows the instruction.

The instruction consists of BOTH:
(1) the visual instruction drawn on the second image, and
(2) the textual description in the Text Prompt.

------------------------------------------------------------
You must independently evaluate the following THREE metrics.

------------------------------------------------------------
1. Visual Instruction Localization Correctness

Did the main semantic edit occur on the object or region
explicitly indicated by the visual instruction?

Scoring:
- Score 1 if the correct object or region is edited.
- Score 0 if the edit occurs elsewhere or is unclear.

------------------------------------------------------------
2. Visual Operator Type Compliance (Sketch Consistency)

Did the edited content in the output image match
the visual semantics expressed by the user’s sketch?

This includes consistency in:
- object shape or structure (e.g., glasses, lamps, clothing),
- pose or configuration (e.g., human or animal posture),
- overall visual form implied by the sketch.

SPECIAL CASE — CLOCKS OR POINTER-BASED OBJECTS:
If the user sketch specifies clock hands, dials, or pointers:
- The evaluation MUST compare the exact pointing relationship.
- Both the HOUR hand and MINUTE hand must match the sketched directions.
- Approximate or stylistic resemblance is NOT sufficient.
- If the hands do not point to the same positions as in the sketch,
  the score MUST not be 1.

Scoring:
- Score 1:
  The model edits the correct object attribute and the result
  closely matches the sketch with no noticeable deviation.

- Score 0.5:
  The model clearly follows the sketch on the correct object,
  but exhibits minor, non-structural differences.

- Score 0:
  The sketch semantics are not followed,
  the wrong attribute is edited,
  or the model only redraws or preserves the sketch itself
  without modifying the underlying object.

------------------------------------------------------------
3. Textual Action Semantic Compliance

Did the model execute the core action specified
in the Text Prompt?

Scoring:
- Score 1 if the intended action is clearly executed.
- Score 0 if the action is not executed or is ambiguous.

------------------------------------------------------------
General Scoring Rules:
- If unsure, assign 0.
- Partial compliance must be scored as 0,
  except for Metric 2 where 0.5 is explicitly allowed.

------------------------------------------------------------
For EACH metric, provide:
- "score": 0, 0.5, or 1 (as applicable),
- "reason": ONE short factual sentence describing
  an observable outcome.

------------------------------------------------------------
FINAL OUTPUT FORMAT (EXACT):

{
  "Visual_Instruction_Localization_Correctness": {
    "reason": "brief factual summary",
    "score": 0
  },
  "Visual_Operator_Type_Compliance": {
    "reason": "brief factual summary",
    "score": 0
  },
  "Textual_Action_Semantic_Compliance": {
    "reason": "brief factual summary",
    "score": 0
  }
}
